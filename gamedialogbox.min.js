let displayTime=0,btnDialog,str;function gameDialogBox(e,t,i,o,l=1,n=8,a){displayTime++;let s=new(window.AudioContext||window.webkitAudioContext);function r(){try{let e=s.createOscillator();e.type=a,e.frequency.setValueAtTime(400,s.currentTime),e.connect(s.destination),e.start(),e.stop(s.currentTime+.1)}catch(t){}}let d,p,b,c,g;if(!(displayTime>1)){n>60&&(n=60);var y=document.createElement("div");document.body.appendChild(y),this.btnDialog=document.createElement("button"),btnDialog=this.btnDialog,g=this.timeIsUp,btnDialog.classList.add("btnDialog"),this.elem=y,y.classList.add("dialog-container"),this.message=e,this.str=e.split(""),str=this.str,this.title=o||"Dialog_Box",this.deleteTime=i||!1,this.opacity=l,d=t,""==t&&(t="black");var m=0;y.id="boxDialog",y.classList.add("boxdialog");var h=document.createElement("section");h.classList.add("header"),y.appendChild(h),h.innerHTML=this.title+"<em>.</em><em>.</em><em>.</em> ";var u=Array.from(document.querySelectorAll("em"));for(p of u)p.classList.add("boules");this.styleContainer=document.createElement("div"),y.appendChild(this.styleContainer),this.styleContainer.innerHTML=`
<style>
.btnDialog,.header{background:#1e90ff;color:#fff;font-weight:700}html{box-sizing:border-box;margin:0;padding:0}.dialog-container{position:absolute;border:5px double #000;border-top:0 double #000;user-select:none;min-width:250px;z-index:99;min-height:40px;padding-bottom:5px}.header{width:100%;margin-top:0;box-shadow:0 0 15px #000;margin-bottom:8px;font-family:courier new;font-size:20px}.boules{animation:1.5s ease-in-out infinite points;transition:.5s}@keyframes points{from{opacity:0}to{opacity:1}}.btnDialog{position:relative;display:none;margin-left:88.5%;margin-top:15px;border-radius:8px;width:25px;height:25px;outline:0;border:none;z-index:99999;box-shadow:0 0 6px gray}.letter{animation:ease-in-out letter}@keyframes letter{from{opacity:0}to{opacity:1}}
</style>
`;var x=!1;y.style.textAlign="center",y.style.fontSize="13.7px",y.style.fontFamily="monospace",y.style.fontWeight="bold",y.style.background="rgba(255,255,255,1)",y.style.opacity=this.opacity,y.style.color=this.color,y.style.lineHeight="20px",y.style.overflow="auto",y.style.borderRadius="8px",y.style.boxShadow="0 0 8px black",y.style.zIndex=99999,("white"==t||"lavender"==t||"pink"==t)&&(y.style.background="rgba(0,0,0,0.4)",y.style.border="5px double dodgerblue"),$()}async function $(){for(var e,o=0;o<str.length;o++)b=y.innerHTML+=`<span>${str[o]}</span>`,y.style.color="transparent",setTimeout(()=>{!(m>=str.length)&&r()},250*o);if(c=function(){e=document.querySelectorAll("span")[m],m++,e&&(e.style.color=t,e.classList.add("letter")),m>=str.length&&(x=!0,clearInterval(this.timesUp),x&&(btnDialog.style.display="block"))},i){if("boolean"!=typeof i){document.body.removeChild(y),console.log("Error of type, DeleteTime should be a boolean");return}btnDialog.style.display="none",await setTimeout(()=>{document.body.removeChild(y),displayTime=0},100*str.length)}else btnDialog.textContent=" A ",btnDialog.addEventListener("click",function(e){reset(),btnDialog.remove(e)}),y.appendChild(btnDialog);g=setInterval(c,n)}}function reset(){displayTime=0}var dialog={displayTime,gameDialogBox};export default dialog;console.log("gamedialogbox is running");
